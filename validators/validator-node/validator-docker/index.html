<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-validators/validator-node/validator-docker">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">How to Run a Validator Node using Docker | Avail Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://availproject.github.io/validators/validator-node/validator-docker/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to Run a Validator Node using Docker | Avail Docs"><meta data-rh="true" name="description" content="Learn about running an Avail validator using Docker."><meta data-rh="true" property="og:description" content="Learn about running an Avail validator using Docker."><meta data-rh="true" name="keywords" content="docs,avail,node,docker,validator,data availability"><meta data-rh="true" property="og:image" content="https://availproject.github.io/img/avail/AvailDocs.png"><meta data-rh="true" name="twitter:image" content="https://availproject.github.io/img/avail/AvailDocs.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://availproject.github.io/validators/validator-node/validator-docker/"><link data-rh="true" rel="alternate" href="https://availproject.github.io/validators/validator-node/validator-docker/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://availproject.github.io/validators/validator-node/validator-docker/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SRNYX3PD60-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Avail Docs" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="https://plausible.io/js/plausible.js" async defer="defer" data-domain="availproject.github.io"></script><link rel="stylesheet" href="/assets/css/styles.6dbbe1b6.css">
<link rel="preload" href="/assets/js/runtime~main.80eac432.js" as="script">
<link rel="preload" href="/assets/js/main.9006a090.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/avail-logo.png" alt="Avail logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avail-logo.png" alt="Avail logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/about/introduction/">Get Started</a><a class="navbar__item navbar__link" href="/node/node-types/">Node Guide</a><a class="navbar__item navbar__link" href="/validators/validator-node/validator-binaries/">Validator Guide</a><a class="navbar__item navbar__link" href="/api/communicating-with-avail/">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://blog.availproject.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/availproject/avail" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://twitter.com/AvailProject" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><a href="https://discord.com/invite/y6fHnxZQX8" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" target="_self" href="/"><img src="/img/avail-logo.png" alt="Avail logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avail-logo.png" alt="Avail logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/validators/validator-node/validator-binaries/">Validator Node</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validators/validator-node/validator-binaries/">Run a Validator Node using Binaries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/validators/validator-node/validator-docker/">Run a Validator Node Using Docker</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/validators/avail-backup-node/">Backup Your Validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/validators/avail-upgrade-validator-node/">Upgrade Your Validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/validators/avail-monitoring-validator-node/">Monitor Your Validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/validators/avail-chilling/">Chill Your Validator</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Validator Node</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Run a Validator Node Using Docker</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to Run a Validator Node using Docker</h1></header><p>The Avail team provides official Docker images designed to run nodes on
the <strong>Kate testnet</strong>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="before-you-start">Before you start<a href="#before-you-start" class="hash-link" aria-label="Direct link to Before you start" title="Direct link to Before you start">​</a></h2><p>The following instructions are tailored for Linux distribution with <code>apt</code>
support, such as Debian.Note that the available Docker images are compatible
only with <strong>Linux/amd64 or x86_64 based</strong> CPUs. Running nodes on a cloud server
is also common. Recommended hardware specifications for your environment are
provided below:</p><table><thead><tr><th>Minimum</th><th>Recommended</th></tr></thead><tbody><tr><td>4GB RAM</td><td>8GB RAM</td></tr><tr><td>2 core CPU amd64/x86 architecture</td><td>4 core CPU  amd64/x86 architecture</td></tr><tr><td>20-40 GB SSD</td><td>200-300 GB SSD</td></tr></tbody></table><p><strong>Port 30333</strong> is typically required for peer exchange. Ensure this port,
along with any others needed for machine access, is open when setting up your
firewall  or cloud provider&#x27;s security groups.</p><blockquote><p>Useful Links:</p></blockquote><ul><li><a href="https://hub.docker.com/r/availj/avail/tags" target="_blank" rel="noopener noreferrer">DockerHub Repository</a></li><li><a href="https://github.com/availproject/avail/releases" target="_blank" rel="noopener noreferrer">Github Releases</a></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="alternate-networks--releases-information">Alternate Networks &amp; Releases Information<a href="#alternate-networks--releases-information" class="hash-link" aria-label="Direct link to Alternate Networks &amp; Releases Information" title="Direct link to Alternate Networks &amp; Releases Information">​</a></h4><p>The instructions provided are specifically for the <strong>Kate testnet</strong>.
To connect to a different network, you may need to download an alternate node
version from the
<a href="https://github.com/availproject/avail/releases" target="_blank" rel="noopener noreferrer">node releases page</a> and acquire
the corresponding chain specification file. For any queries, feel free to reach out
to the Avail team.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="initial-setup">Initial Setup<a href="#initial-setup" class="hash-link" aria-label="Direct link to Initial Setup" title="Direct link to Initial Setup">​</a></h2><p>At this point, you should have shell access with root privileges to a linux machine.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="initial-setup-1">Initial Setup<a href="#initial-setup-1" class="hash-link" aria-label="Direct link to Initial Setup" title="Direct link to Initial Setup">​</a></h2><p>At this point, you should have shell access with root privileges to a linux machine.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="install-docker">Install Docker<a href="#install-docker" class="hash-link" aria-label="Direct link to Install Docker" title="Direct link to Install Docker">​</a></h3><p>If you do not have Docker installed, please follow the installation instructions <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">here</a>.</p><p>In this guide, we will use the Ubuntu-specific installation instructions. It&#x27;s advisable to consult the official guidelines for the most up-to-date information.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ca-certificates </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> gnupg lsb-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p /etc/apt/keyrings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;deb [arch=</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">dpkg --print-architecture</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c"> signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  </span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">lsb_release -cs</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c"> stable&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/apt/sources.list.d/docker.list </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this point, you should have Docker installed.</p><p>To avoid running Docker as the <strong>root</strong> user, which is often inconvenient, we&#x27;ll adhere to the post-installation steps outlined <a href="https://docs.docker.com/engine/install/linux-postinstall/" target="_blank" rel="noopener noreferrer">here</a>. This allows us to interact with Docker without requiring <strong>root</strong> privileges.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">groupadd</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">usermod</span><span class="token plain"> -aG </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token environment constant" style="color:#36acaa">$USER</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should now be able to log out and log back in, and execute Docker commands without the need for <strong>sudo</strong>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk-setup">Disk Setup<a href="#disk-setup" class="hash-link" aria-label="Direct link to Disk Setup" title="Direct link to Disk Setup">​</a></h2><p>The specific steps will vary significantly based on your requirements. Typically, you&#x27;ll have a root partition for the operating system on one device, and one or more separate devices for storing blockchain data. For the remainder of this guide, we&#x27;ll assume that the additional storage device is mounted at <code>/mnt/avail</code>.</p><p>Before mounting the additional disk, it&#x27;s advisable to format it and create a filesystem. For guidance on this process, you can <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-using-volumes.html" target="_blank" rel="noopener noreferrer">follow these instructions</a>.</p><p>In this example, we&#x27;re working with a 300 GB device located at <code>/dev/nvme1n1</code>. The steps to mount this device are outlined below:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /mnt/avail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -a /dev/nvme1n1 /mnt/avail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use the the </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable function" style="color:#d73a49">df</span><span class="token variable" style="color:#36acaa"> -h</span><span class="token variable" style="color:#36acaa">`</span><span class="token plain"> </span><span class="token builtin class-name">command</span><span class="token plain"> to verify that the </span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> has been successfully configured.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If everything appears to be </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> order, it&#x27;s advisable to create additional sub-directories </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> storing our data and configuration files.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /mnt/avail/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /mnt/avail/state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /mnt/avail/keystore</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Based on your specific use case and operating system, you&#x27;ll likely need to add an entry to <code>/etc/fstab</code> to ensure the device remains mounted upon system reboot.</p><p>In our scenario, we&#x27;ll proceed as follows:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Use blkid to get the UUID for the device that we&#x27;re mounting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">blkid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Edit the fstab file  and add a line to mount your device</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># UUID={your uuid}      /mnt/data   {your filesystem}   defaults    0   1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> emacs /etc/fstab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#you can use any test editor based on your prefereance to edit the file here we have used emacs .</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># use this to verify the fstab actually works</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> findmnt --verify --verbose</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this stage, you should be able to reboot and verify that the system correctly mounts your device upon startup.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="avail-setup">Avail Setup<a href="#avail-setup" class="hash-link" aria-label="Direct link to Avail Setup" title="Direct link to Avail Setup">​</a></h2><p>Download the Correct Chaispec file for the network in our case we are using the <strong><code>Kate-Testnet</code></strong> Chainspec.</p><table><thead><tr><th>Network</th><th>Docker Hub</th><th>Chain Specification File</th><th>Chain Info Reference</th></tr></thead><tbody><tr><td>Kate Testnet</td><td><a href="https://hub.docker.com/r/availj/avail/tags" target="_blank" rel="noopener noreferrer">Releases</a></td><td><a target="_blank" href="/assets/files/chainspec.raw-1905ee8ba4620c9cd6f1f378a84346eb.json/">chainspec.raw.json</a></td><td><a target="_blank" href="/assets/files/chaininfo-de1eeff4d63715bbec85aae81a956d40.txt/">Chain Info</a></td></tr></tbody></table><p>In our case we will download the chainspec into our config folder as <code>kate-chainspec.raw.json</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -L -o /mnt/avail/config/kate-chainspec.raw.json https://raw.githubusercontent.com/availproject/availproject.github.io/main/static/configs/kate/chainspec.raw.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now that we&#x27;ve downloaded our Chainspec configuration, let&#x27;s proceed to launch our Avail Node.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /mnt/avail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -v </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable builtin class-name" style="color:#36acaa">pwd</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">/config/kate-chainspec.raw.json:/da/genesis/chainspec.raw.json -v </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable builtin class-name" style="color:#36acaa">pwd</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">/state:/da/state:rw -v </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable builtin class-name" style="color:#36acaa">pwd</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">/keystore:/da/keystore:rw -e </span><span class="token assign-left variable" style="color:#36acaa">DA_CHAIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/da/genesis/chainspec.raw.json -e </span><span class="token assign-left variable" style="color:#36acaa">DA_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">kate-docker-avail-Node -p </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:30333:30333 -p </span><span class="token number" style="color:#36acaa">9615</span><span class="token plain">:9615 -p </span><span class="token number" style="color:#36acaa">9933</span><span class="token plain">:9933 -d --restart unless-stopped availj/avail:v1.6.2-rc1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now that we&#x27;ve downloaded our Chainspec configuration, let&#x27;s proceed to launch our Avail Node. The steps in the command include:</p><ul><li>Navigating to <code>/mnt/avail</code> to ensure we&#x27;re in the correct directory.</li><li>Mounting <code>/mnt/avail/config/kate-chainspec.raw.json</code> to <code>/da/genesis/chainspec.raw.json</code> in the Docker container for accurate chainspec.</li><li>Mapping <code>/mnt/avail/state</code> to <code>/da/state</code> and granting read-write permissions to ensure data persistence, even if the container crashes.</li><li>Using <code>DA_CHAIN</code> to specify the chainspec file within the container.</li><li>Setting <code>DA_NAME</code> as the name of your node; in our example, it&#x27;s <code>kate-docker-avail-Node</code>.</li><li>Utilizing port <strong><code>30333</code></strong> for public P2P connections, <strong><code>9615</code></strong> for the Prometheus metrics endpoint, and <strong><code>9933</code></strong> for the HTTP RPC port. For WebSocket, add port <strong><code>9944</code></strong>.</li><li>Using an image from the Avail Docker Hub repository.</li><li>Adding any desired chain flags after the image name, such as <code>--rpc</code>.</li></ul><p>Inspect the Docker logs to verify that the node is functioning as expected.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ubuntu:/mnt/avail</span><span class="token comment" style="color:#999988;font-style:italic"># docker ps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTAINER ID   IMAGE                     COMMAND            CREATED         STATUS         PORTS                                                                                                            NAMES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5b3978de8f35   availj/avail:v1.6.2-rc1   </span><span class="token string" style="color:#e3116c">&quot;/entrypoint.sh&quot;</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> minutes ago   Up </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> minutes   </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:9615-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">9615</span><span class="token plain">/tcp, :::9615-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">9615</span><span class="token plain">/tcp, </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:9933-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">9933</span><span class="token plain">/tcp, </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:30333-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">30333</span><span class="token plain">/tcp, :::9933-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">9933</span><span class="token plain">/tcp   relaxed_wilson</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ubuntu:/mnt/avail</span><span class="token comment" style="color:#999988;font-style:italic"># docker logs 5b3978de8f35</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 5b3978de8f35 is the container id </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 Avail Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 ✌️  version </span><span class="token number" style="color:#36acaa">1.6</span><span class="token plain">.2-bb4cc104b25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 ❤️  by Anonymous, </span><span class="token number" style="color:#36acaa">2017</span><span class="token plain">-2023</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 📋 Chain specification: Avail Kate Testnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 🏷  Node name: kate-docker-avail-Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 👤 Role: FULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 💾 Database: RocksDb at /da/state/chains/Avail Testnet_116d7474-0481-11ee-bc2a-7bfc086be54e/db/full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:29:55 ⛓  Native runtime: data-avail-11 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data-avail-0.tx1.au11</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 🏷  Local </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> identity is: 12D3KooWEdgyAtH8ZCU8ScTx1hx5NWh4gmDGNcedtLxrJ1htSeBe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 Prometheus metrics extended with avail metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 Operating system: linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 CPU architecture: x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 Target environment: gnu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 CPU: Intel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Xeon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">R</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Platinum 8175M CPU @ </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">.50GHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 CPU cores: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 Memory: 7835MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 Kernel: </span><span class="token number" style="color:#36acaa">5.15</span><span class="token plain">.0-1040-aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 Linux distribution: Debian GNU/Linux </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bullseye</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 💻 Virtual machine: </span><span class="token function" style="color:#d73a49">yes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 📦 Highest known block at </span><span class="token comment" style="color:#999988;font-style:italic">#9150</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 〽️ Prometheus exporter started at </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:9615</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 Running JSON-RPC HTTP server: </span><span class="token assign-left variable" style="color:#36acaa">addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:9933, allowed </span><span class="token assign-left variable" style="color:#36acaa">origins</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http://localhost:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;http://127.0.0.1:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;https://localhost:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;https://127.0.0.1:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;https://polkadot.js.org&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 Running JSON-RPC WS server: </span><span class="token assign-left variable" style="color:#36acaa">addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:9944, allowed </span><span class="token assign-left variable" style="color:#36acaa">origins</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http://localhost:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;http://127.0.0.1:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;https://localhost:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;https://127.0.0.1:*&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;https://polkadot.js.org&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 🏁 CPU score: </span><span class="token number" style="color:#36acaa">671.55</span><span class="token plain"> MiBs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 🏁 Memory score: </span><span class="token number" style="color:#36acaa">4.47</span><span class="token plain"> GiBs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 🏁 Disk score </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seq. writes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">339.36</span><span class="token plain"> MiBs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:04 🏁 Disk score </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rand. writes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">62.48</span><span class="token plain"> MiBs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:05 🔍 Discovered new external address </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> our node: /ip4/13.53.42.153/tcp/30333/ws/p2p/12D3KooWEdgyAtH8ZCU8ScTx1hx5NWh4gmDGNcedtLxrJ1htSeBe2023-08-21 08:30:09 ⚙️  Syncing, </span><span class="token assign-left variable" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">=</span><span class="token comment" style="color:#999988;font-style:italic">#326624 (15 peers), best: #9406 (0x875e…c887), finalized #9317 (0x37b6…28ff), ⬇ 321.9kiB/s ⬆ 30.1kiB/s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-08-21 08:30:14 ⚙️  Syncing </span><span class="token number" style="color:#36acaa">64.4</span><span class="token plain"> bps, </span><span class="token assign-left variable" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">=</span><span class="token comment" style="color:#999988;font-style:italic">#326624 (15 peers), best: #9728 (0xb4fe…e318), finalized #9317 (0x37b6…28ff), ⬇ 40.2kiB/s ⬆ 1.8kiB/s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your node will also appear on the <a href="http://telemetry.avail.tools/" target="_blank" rel="noopener noreferrer">Avail Telemetry</a>
website, listed under the &quot;Node name&quot; displayed in the node command output. Be sure
to select the appropriate network tab at the top corresponding to the network you&#x27;ve
joined.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prepare-for-staking">Prepare for Staking<a href="#prepare-for-staking" class="hash-link" aria-label="Direct link to Prepare for Staking" title="Direct link to Prepare for Staking">​</a></h2><p>Once the node is running and connected to the network, it needs to be
linked to accounts with bonded (staked) funds in order to be eligible
to become an active validator.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-avail-accounts">Create Avail Accounts<a href="#create-avail-accounts" class="hash-link" aria-label="Direct link to Create Avail Accounts" title="Direct link to Create Avail Accounts">​</a></h3><p>We recommend creating two accounts, <code>stash</code> and <code>controller</code>, each
with their own key:</p><ul><li>The controller key is used to control staking actions and submitting
transactions (paying for transaction fees).</li><li>The stash key is used to control most of your funds. It is
recommended that the stash key be a cold wallet or offline and not
be used for account-related activities like submitting extrinsics.</li></ul><p>You can create the two accounts via the Explorer interface. The Kate
network explorer is at <a href="https://kate.avail.tools/" target="_blank" rel="noopener noreferrer">kate.avail.tools</a>,
for other networks refer to the <a href="/join-the-network/networks/">Avail
Networks</a> page.</p><p>Once you have created the accounts, Ensure each account has enough
funds to pay the fees for making transactions. For validators
participating in our testnet, contact the Avail team to have funds
transferred.</p><img loading="lazy" src="/img/avail/stash-controller-accounts.png" width="200%" height="200%" class="img_ev3q"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Storing Funds</div><div class="admonitionContent_S0QG"><p>Keep most of your funds in the stash account since it is meant to be
the custodian of your staking funds, and have just enough funds in the
controller account to pay for fees.</p><p>Make sure not to bond all your AVL balance since you will be unable to
pay transaction fees from your bonded balance.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bonding-process">Bonding Process<a href="#bonding-process" class="hash-link" aria-label="Direct link to Bonding Process" title="Direct link to Bonding Process">​</a></h3><p>It is now time to set up your validator by doing the following:</p><ul><li>Bond the AVL of the Stash account. These token will be put at stake
for the security of the network and subject to slashing.</li><li>Select the Controller. This is the account that will decide when to start or stop validating.</li></ul><p>First, go to the accounts section on the <strong>Staking</strong> tab in the
Explorer at
<a href="https://kate.avail.tools/#/staking/actions" target="_blank" rel="noopener noreferrer">kate.avail.tools</a> for the
Kate network (for other networks refer to the <a href="/join-the-network/networks/">Avail
Networks</a> page). Here, you can perform
various staking actions. Click on Stash.</p><img loading="lazy" src="/img/avail/staking-bond-1.png" width="100%" height="100%" class="img_ev3q"><p>The bonding preferences window will open with the following options:</p><ul><li><strong>Stash account:</strong> Your Stash account.</li><li><strong>Controller account:</strong> Select your Controller account. This account
only needs a small amount of AVL in order to start and stop
validating.</li><li><strong>Value bonded:</strong> The amount of AVL tokens you want to bond from
your Stash account. You may stake any amount above the minimum.</li><li><strong>Payment destination:</strong> The account where the rewards from
validating are sent. More information can be found
<a href="https://wiki.polkadot.network/docs/learn-staking#reward-distribution" target="_blank" rel="noopener noreferrer">here</a>.</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You should not bond all of the AVL in that account, you will require
some AVL for transactions. Also note that you can always bond more
<code>AVL</code> later.  However, withdrawing any bonded amount requires the
duration of the unbonding period.</p></div></div><p>Once populating the fields you can click bond. You will then be
promted to enter your wallet password. Enter your password and then
click <strong>Sign and Submit</strong>.</p><img loading="lazy" src="/img/avail/staking-bond-3.png" width="100%" height="100%" class="img_ev3q"><p>You should now be ready to generate your session keys. Note the
<strong>Session Key</strong> button, in the next step we will generate a key to
submit here.  <img loading="lazy" src="/img/avail/staking-bond-4.png" width="100%" height="100%" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="session-key-management">Session Key Management<a href="#session-key-management" class="hash-link" aria-label="Direct link to Session Key Management" title="Direct link to Session Key Management">​</a></h2><p>Once your node is <strong>fully synced</strong>, you need to rotate and submit your
session keys.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rotating-session-keys">Rotating Session Keys<a href="#rotating-session-keys" class="hash-link" aria-label="Direct link to Rotating Session Keys" title="Direct link to Rotating Session Keys">​</a></h3><p>Run the following command on your Avail validator node machine:</p><blockquote><p>While the node is running with the default HTTP RPC port configured.</p></blockquote><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -H </span><span class="token string" style="color:#e3116c">&quot;Content-Type: application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:#e3116c">&#x27;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;author_rotateKeys&quot;, &quot;params&quot;:[]}&#x27;</span><span class="token plain"> http://localhost:9933</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output will have a hex-encoded &quot;result&quot; field. The result is the
concatenation of the four public keys.  Save this result for a later
step.</p><p>You should now restart the node so it will use the new session keys.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="submitting-the-setkeys-transaction">Submitting the <code>setKeys</code> Transaction<a href="#submitting-the-setkeys-transaction" class="hash-link" aria-label="Direct link to submitting-the-setkeys-transaction" title="Direct link to submitting-the-setkeys-transaction">​</a></h3><p>You need to tell the chain your Session keys by signing and submitting
an extrinsic. This is what associates your validator with your
Controller account.</p><p>Navigate back to the <a href="https://kate.avail.tools/#/staking/actions" target="_blank" rel="noopener noreferrer"><strong>Network <!-- -->→<!-- -->
Staking</strong></a> if you
closed the window.  Ensure you are on <strong>Account actions</strong>, and select
<strong>Set Session Key</strong> on the bonding account you generated earlier.
Enter the output <code>from author_rotateKeys</code> in the field and click on
<strong>Set Session Key</strong>. Will be promted for password again.</p><img loading="lazy" src="/img/avail/set-session-keys.png" width="100%" height="100%" class="img_ev3q"><p>After submitting this extrinsic, you will notice <strong>Set Session Key</strong>
changed to <strong>Validate</strong>. Ensure your node is in sync before
proceeding.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="becoming-a-validator">Becoming a Validator<a href="#becoming-a-validator" class="hash-link" aria-label="Direct link to Becoming a Validator" title="Direct link to Becoming a Validator">​</a></h2><p>If you are ready to start validating you must click <strong>Validate</strong></p><img loading="lazy" src="/img/avail/start-validating.png" width="100%" height="100%" class="img_ev3q"><p>You will be prompted to enter your validator commission
percentage. Once you click on <strong>Validate</strong> you will be prompted for
your password.</p><img loading="lazy" src="/img/avail/set-validate-commission.png" width="100%" height="100%" class="img_ev3q"><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="starting-validation">Starting Validation<a href="#starting-validation" class="hash-link" aria-label="Direct link to Starting Validation" title="Direct link to Starting Validation">​</a></h3><p>Your validator is now ready to start validating. You can click the
stop icon should you wish to exit. Note that the Avail interface does
not check if your node is in sync.  You need to ensure your node is in
sync. The Avail blockchain will select your node in the next epoch or
two if you have enough stake.</p><img loading="lazy" src="/img/avail/validator-ready.png" width="100%" height="100%" class="img_ev3q"><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="verifying-validator-status">Verifying Validator Status<a href="#verifying-validator-status" class="hash-link" aria-label="Direct link to Verifying Validator Status" title="Direct link to Verifying Validator Status">​</a></h3><p>To verify that your node is ready for possible selection at the end of
the next era , navigate to <a href="https://kate.avail.tools/#/staking" target="_blank" rel="noopener noreferrer"><strong>Network <!-- -->→<!-- -->
Staking</strong></a> and select
<strong>Waiting</strong>. Your account should be shown there. A new validator set
is selected every <strong>era</strong>, based on the staking amount.</p><img loading="lazy" src="/img/avail/validator-waiting-list.png" width="100%" height="100%" class="img_ev3q"><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="validator-in-action">Validator in Action<a href="#validator-in-action" class="hash-link" aria-label="Direct link to Validator in Action" title="Direct link to Validator in Action">​</a></h3><p>When the validator node has enough stake it will be elected. The image below is
an example of our elected validator node producing blocks.</p><img loading="lazy" src="/img/avail/validator-active-set.png" width="100%" height="100%" class="img_ev3q"><p>That&#x27;s it! You&#x27;re now successfully running an Avail Validator node. 🎉</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/availproject/availproject.github.io/tree/main/docs/validators/validator-node/validator-node-docker.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-02T05:09:44.000Z">Sep 2, 2023</time></b> by <b>Piyush Maloo</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/validators/validator-node/validator-binaries/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Run a Validator Node using Binaries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/validators/avail-backup-node/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Backup Your Validator</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-you-start" class="table-of-contents__link toc-highlight">Before you start</a></li><li><a href="#initial-setup" class="table-of-contents__link toc-highlight">Initial Setup</a></li><li><a href="#initial-setup-1" class="table-of-contents__link toc-highlight">Initial Setup</a><ul><li><a href="#install-docker" class="table-of-contents__link toc-highlight">Install Docker</a></li></ul></li><li><a href="#disk-setup" class="table-of-contents__link toc-highlight">Disk Setup</a></li><li><a href="#avail-setup" class="table-of-contents__link toc-highlight">Avail Setup</a></li><li><a href="#prepare-for-staking" class="table-of-contents__link toc-highlight">Prepare for Staking</a><ul><li><a href="#create-avail-accounts" class="table-of-contents__link toc-highlight">Create Avail Accounts</a></li><li><a href="#bonding-process" class="table-of-contents__link toc-highlight">Bonding Process</a></li></ul></li><li><a href="#session-key-management" class="table-of-contents__link toc-highlight">Session Key Management</a><ul><li><a href="#rotating-session-keys" class="table-of-contents__link toc-highlight">Rotating Session Keys</a></li><li><a href="#submitting-the-setkeys-transaction" class="table-of-contents__link toc-highlight">Submitting the <code>setKeys</code> Transaction</a></li></ul></li><li><a href="#becoming-a-validator" class="table-of-contents__link toc-highlight">Becoming a Validator</a><ul><li><a href="#starting-validation" class="table-of-contents__link toc-highlight">Starting Validation</a></li><li><a href="#verifying-validator-status" class="table-of-contents__link toc-highlight">Verifying Validator Status</a></li><li><a href="#validator-in-action" class="table-of-contents__link toc-highlight">Validator in Action</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="padding-bottom-huge"></div><div class="row"><div class="col footer__col"><h4 class="footer__title">Data Availability Resources</h4><div class="footer__items"><div class="footer__item"><a href="https://blog.availproject.org/the-data-availability-problem/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Data Availability Problem</a></div><div class="footer__item"><a href="https://blog.availproject.org/introducing-avail-by-a-robust-general-purpose-scalable-data-availability-layer/" target="_blank" rel="noopener noreferrer" class="footer__link-item">What is Avail</a></div><div class="footer__item"><a href="https://github.com/availproject/data-availability/blob/master/reference%20document/Data%20Availability%20-%20Reference%20Document.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Avail Whitepaper</a></div><div class="footer__item"><a href="https://blog.availproject.org/data-attestation-bridge/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Attestation Bridge</a></div><div class="footer__item"><a href="https://blog.availproject.org/abilitytoscalepart3/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Avail`s Ability to Scale</a></div></div></div><div class="col footer__col"><h4 class="footer__title">Node Repositories</h4><div class="footer__items"><div class="footer__item"><a href="https://github.com/availproject/avail-light" target="_blank" rel="noopener noreferrer" class="footer__link-item">Light Client</a></div><div class="footer__item"><a href="https://github.com/availproject/avail" target="_blank" rel="noopener noreferrer" class="footer__link-item">Full Node</a></div><div class="footer__item"><a href="https://github.com/availproject/avail-light-bootstrap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bootstrap Node</a></div><div class="footer__item"><a href="https://github.com/availproject/avail-light-relay" target="_blank" rel="noopener noreferrer" class="footer__link-item">Relay Node</a></div></div></div><div class="col footer__col"><h4 class="footer__title">Network Guides</h4><div class="footer__items"><div class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/node/node-types/">Node Guide</a></div><div class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/validators/validator-node/validator-binaries/">Validator Guide</a></div></div></div><div class="col footer__col"><h4 class="footer__title">Community</h4><div class="footer__items"><div class="footer__item"><a href="https://discord.com/invite/y6fHnxZQX8" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></div><div class="footer__item"><a href="https://twitter.com/AvailProject" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></div><div class="footer__item"><a href="https://github.com/availproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></div><div class="footer__item"><a href="https://www.linkedin.com/company/availproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></div></div></div><div class="col footer__col"><h4 class="footer__title">Company</h4><div class="footer__items"><div class="footer__item"><a href="https://www.availproject.org/ecosystem" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Us</a></div><div class="footer__item"><a href="https://blog.availproject.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></div><div class="footer__item"><a href="https://wellfound.com/company/avail-6/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></div></div></div></div><div class="text--center" style="color:#67666e">Copyright © <!-- -->2023<!-- --> | Avail Project</div></div></footer></div>
<script src="/assets/js/runtime~main.80eac432.js"></script>
<script src="/assets/js/main.9006a090.js"></script>
</body>
</html>