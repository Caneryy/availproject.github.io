<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Running Avail/avail-validator">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Run an Avail Validator | Avail Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://availproject.github.io/Running Avail/avail-validator"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Run an Avail Validator | Avail Docs"><meta data-rh="true" name="description" content="Learn about running an Avail validator."><meta data-rh="true" property="og:description" content="Learn about running an Avail validator."><meta data-rh="true" name="keywords" content="docs,avail,node,validator"><meta data-rh="true" property="og:image" content="https://availproject.github.io/img/avail/AvailDocs.png"><meta data-rh="true" name="twitter:image" content="https://availproject.github.io/img/avail/AvailDocs.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://availproject.github.io/Running Avail/avail-validator"><link data-rh="true" rel="alternate" href="https://availproject.github.io/Running Avail/avail-validator" hreflang="en"><link data-rh="true" rel="alternate" href="https://availproject.github.io/Running Avail/avail-validator" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f4b5ffac.css">
<link rel="preload" href="/assets/js/runtime~main.7a616024.js" as="script">
<link rel="preload" href="/assets/js/main.f27fe9f6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Avail Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/avail-quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Architecture/avail-consensus">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Running Avail/avail-light-client-da">Running Avail</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Running Avail/avail-light-client-da">Run a Light Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Running Avail/avail-node-management">Run an Avail node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Running Avail/avail-validator">Run a Validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Running Avail/avail-data-avail">Data Availability</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Running Avail</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Run a Validator</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Run an Avail Validator</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-availability-deployments">Data Availability Deployments<a href="#data-availability-deployments" class="hash-link" aria-label="Direct link to Data Availability Deployments" title="Direct link to Data Availability Deployments">â€‹</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Onboarding validators</div><div class="admonitionContent_S0QG"><p>In Avail&#x27;s current state, the Avail team will maintain the network and run
internal validators.</p></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>System administration</div><div class="admonitionContent_S0QG"><p>Although Avail is in testnet phase, in general, users should have <strong>significant system
administration experience</strong> when running validator nodes.</p><p>Validator nodes are responsbile for maintaining and securing the network by staking tokens with real
value. Validators need to understand how to manage their node, its associated hardware &amp; configuration,
and be wary that they are subject to being slashed due to actions like being offline or equivocation.</p><p>When in doubt, reach out to the Validator Engagement team.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker-setup">Docker Setup<a href="#docker-setup" class="hash-link" aria-label="Direct link to Docker Setup" title="Direct link to Docker Setup">â€‹</a></h2><p>The easiest way to deploy your own Avail validator node is using Docker.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-latest-version-of-the-docker-container">Run the latest version of the Docker container<a href="#run-the-latest-version-of-the-docker-container" class="hash-link" aria-label="Direct link to Run the latest version of the Docker container" title="Direct link to Run the latest version of the Docker container">â€‹</a></h3><p>Use the default parameters and expose the P2P port with <code>-p 30333</code> by running:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -p </span><span class="token number" style="color:#36acaa">30333</span><span class="token plain"> --name my_val 0xpolygon/avail:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Any extra parameter will be added to the <code>data-avail</code> binary as an argument.
If you want to use a specific node key and limit the maximum number of incoming connections
to <code>10</code>, you can use:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -p </span><span class="token number" style="color:#36acaa">30333</span><span class="token plain"> --name my_val 0xpolygon/avail:latest --in-peers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> --node-key 80027666cebec66464611eb0d5c36416213d83a9c689006a80efcf479826de7d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This image uses two volumes:</p><ul><li><code>/da/state</code> to store the database of the chain</li><li><code>/da/keystore</code> to store the validator&#x27;s private keys</li></ul><p>Most likely you want to bind these volumes to a specific point, like:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -p </span><span class="token number" style="color:#36acaa">30333</span><span class="token plain"> --name my_val -v /volumes/da/state:/da/state -v /volumes/da/keystore/:/da/keystore 0xpolygon/avail:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="insert-private-keys">Insert private keys<a href="#insert-private-keys" class="hash-link" aria-label="Direct link to Insert private keys" title="Direct link to Insert private keys">â€‹</a></h3><p>These private keys will be used by the validator to sign blocks and finalize the chain when it
acts as an active validator. They are stored into <code>/da/keystore</code> in plain text format, so you
should take extra care over that volume.</p><p>In order to insert these keys, we will open a shell inside the running container:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> -it my_val </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@5f55e51e5a85:/da</span><span class="token comment" style="color:#999988;font-style:italic"># /da/bin/data-avail key insert \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --chain</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/da/genesis/testnet.chain.spec.raw.json </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --base-path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/da/state/ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --keystore-path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/da/keystore/ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --suri</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">0x7d98</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.cae6 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --key-type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">babe </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --scheme</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Sr25519</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>--suri</code> parameter is the private key as a mnemonic phrase (or secret phrase) where you can generate
one using the <code>subkey</code> tool in Substrate.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Learn about subkey</div><div class="admonitionContent_S0QG"><p>To learn about how to use the subkey, visit the <a href="https://docs.substrate.io/v3/tools/subkey/" target="_blank" rel="noopener noreferrer"><ins>Subkey Substrate documentation</ins></a>.</p></div></div><p>This command should be <strong>repeated for each pair of key type and scheme</strong> shown in the following table:</p><table><thead><tr><th>Key Type</th><th>Scheme</th></tr></thead><tbody><tr><td>babe</td><td>Sr25519</td></tr><tr><td>gran</td><td><em>Ed25519</em></td></tr><tr><td>imon</td><td>Sr25519</td></tr><tr><td>audi</td><td>Sr25519</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bond-avl-tokens">Bond AVL tokens<a href="#bond-avl-tokens" class="hash-link" aria-label="Direct link to Bond AVL tokens" title="Direct link to Bond AVL tokens">â€‹</a></h2><p>It is highly recommended that you set up a stash and controller account and have separate key (two separate accounts) for both.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Stash and Controller Keys</div><div class="admonitionContent_S0QG"><ul><li>A controller key is used to control staking actions for your account</li><li>A stash key is used to control your funds. It is recommended that the stash key be a cold wallet or offline and not be used for account-related activities like submitting extrinsics.</li></ul><p>Follow the <a href="https://wiki.polkadot.network/docs/learn-staking#accounts" target="_blank" rel="noopener noreferrer">Polkadot Wiki</a> and the
<a href="https://docs.substrate.io/v3/concepts/account-abstractions/#:~:text=Controller%20Key%3A%20a%20Controller%20account,somewhat%20regularly%20for%20validator%20maintenance" target="_blank" rel="noopener noreferrer">Substrate Hub</a>
to learn more about stash and controller accounts and how to manage them.</p></div></div><p>You will start by creating two accounts; ensure each account has enough funds to pay the fees for
making transactions.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Storing Funds</div><div class="admonitionContent_S0QG"><p>Keep most of your funds in the stash account since it is meant to be the custodian of
your staking funds, and have just enough funds in the controller account to pay for fees.</p><p>Make sure not to bond all your AVL balance since you will be unable to pay transaction fees from your bonded
balance.</p></div></div><p>It is now time to set up your validator by doing the following:</p><ul><li>Bond the AVL of the Stash account. These token will be put at stake for the security of the network and
subject to slashing.</li><li>Select the Controller. This is the account that will decide when to start or stop validating.</li></ul><p>First, go to the <strong>Developer</strong> tab in the <a href="https://devnet-avail.polygon.technology/" target="_blank" rel="noopener noreferrer">Avail Apps</a>
navbar and click on <strong>Extrinsics</strong>.</p><ul><li><p><strong>Stash</strong> account - Select your Stash account. In this example, we bond 1001 AVL tokens, where the
minimum bonding amount is 1000. Make sure that your Stash account contains at least this many tokens.
You can, of course, stake more than this.</p></li><li><p><strong>Controller</strong> account - Select the Controller account created earlier. This account will need a
small amount of AVL in order to start and stop validating.</p></li><li><p><strong>Value</strong> bonded - The amount of AVL tokens you want to bond from your Stash account.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>You do not need to bond all of the AVL in that account. Also note that you can always bond more <code>AVL</code> later.
However, withdrawing any bonded amount requires the duration of the unbonding period.</p></div></div></li><li><p><strong>Payment</strong> destination - The account where the rewards from validating are sent. More information can be found
<a href="https://wiki.polkadot.network/docs/learn-staking#reward-distribution" target="_blank" rel="noopener noreferrer">here</a>.</p></li></ul><img loading="lazy" src="/img/avail/dev-ext.png" width="100%" height="100%" class="img_ev3q"><p>Select the <strong>staking</strong> pallet, and the <strong>bond</strong> extrinsic.</p><img loading="lazy" src="/img/avail/add_validator_bound_step.png" width="100%" height="100%" class="img_ev3q"><p>Create a transaction where your <strong>stash</strong> account bounds 1001 AVLs at least to your <strong>controller</strong> account,
as shown below.</p><img loading="lazy" src="/img/avail/bond-avl-val.png" width="100%" height="100%" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-session-keys">Set Session Keys<a href="#set-session-keys" class="hash-link" aria-label="Direct link to Set Session Keys" title="Direct link to Set Session Keys">â€‹</a></h2><p>Once your node is <strong>fully synced</strong>, you need to rotate and submit your session keys.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rotate-you-session-keys">Rotate you session keys<a href="#rotate-you-session-keys" class="hash-link" aria-label="Direct link to Rotate you session keys" title="Direct link to Rotate you session keys">â€‹</a></h3><p>Run this command on the same machine (while the node is running with the default HTTP RPC port configured):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> -it my_val </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@5f55e51e5a85:/da</span><span class="token comment" style="color:#999988;font-style:italic"># curl \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      -H </span><span class="token string" style="color:#e3116c">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      -d </span><span class="token string" style="color:#e3116c">&#x27;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;author_rotateKeys&quot;, &quot;params&quot;:[]}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      http://localhost:9933</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output will have a hex-encoded &quot;result&quot; field. The result is the concatenation of the four public keys.
Save this result for a later step.</p><p>You can restart your node at this point.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="submitting-the-setkeys-transaction">Submitting the <code>setKeys</code> transaction<a href="#submitting-the-setkeys-transaction" class="hash-link" aria-label="Direct link to submitting-the-setkeys-transaction" title="Direct link to submitting-the-setkeys-transaction">â€‹</a></h3><p>You need to tell the chain your Session keys by signing and submitting an extrinsic. This is what associates
your validator with your Controller account.</p><p>Navigate to the <a href="https://devnet-avail.polygon.technology/#/staking" target="_blank" rel="noopener noreferrer"><strong>Network <!-- -->â†’<!-- --> Staking</strong></a>.
Here, you can perform various staking actions. Navigate to <strong>Account actions</strong>, and select <strong>Set Session Key</strong>
on the bonding account you generated earlier. Enter the output <code>from author_rotateKeys</code> in the field and click on
<strong>Set Session Key</strong>.</p><img loading="lazy" src="/img/avail/set-session-keys.png" width="100%" height="100%" class="img_ev3q"><p>After submitting this extrinsic, you are ready to start validating.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="validate">Validate<a href="#validate" class="hash-link" aria-label="Direct link to Validate" title="Direct link to Validate">â€‹</a></h2><p>To verify that your node is live and synchronized, navigate to
<a href="https://devnet-avail.polygon.technology/#/staking" target="_blank" rel="noopener noreferrer"><strong>Network <!-- -->â†’<!-- --> Staking</strong></a> and select
<strong>Waiting</strong>. Your account should be shown there. A new validator set is selected every <strong>era</strong>,
based on the staking amount.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Running Avail/avail-node-management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Run an Avail node</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Running Avail/avail-data-avail"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Availability</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-availability-deployments" class="table-of-contents__link toc-highlight">Data Availability Deployments</a></li><li><a href="#docker-setup" class="table-of-contents__link toc-highlight">Docker Setup</a><ul><li><a href="#run-the-latest-version-of-the-docker-container" class="table-of-contents__link toc-highlight">Run the latest version of the Docker container</a></li><li><a href="#insert-private-keys" class="table-of-contents__link toc-highlight">Insert private keys</a></li></ul></li><li><a href="#bond-avl-tokens" class="table-of-contents__link toc-highlight">Bond AVL tokens</a></li><li><a href="#set-session-keys" class="table-of-contents__link toc-highlight">Set Session Keys</a><ul><li><a href="#rotate-you-session-keys" class="table-of-contents__link toc-highlight">Rotate you session keys</a></li><li><a href="#submitting-the-setkeys-transaction" class="table-of-contents__link toc-highlight">Submitting the <code>setKeys</code> transaction</a></li></ul></li><li><a href="#validate" class="table-of-contents__link toc-highlight">Validate</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://availproject.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Avail Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Erasure Coding Technologies Ltd.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7a616024.js"></script>
<script src="/assets/js/main.f27fe9f6.js"></script>
</body>
</html>